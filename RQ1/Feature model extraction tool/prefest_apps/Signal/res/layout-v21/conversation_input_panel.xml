<?xml version="1.0" encoding="utf-8"?>
<org.thoughtcrime.securesms.components.InputPanel android:gravity="center_vertical" android:orientation="horizontal" android:id="@id/bottom_panel" android:paddingLeft="16.0dip" android:paddingTop="6.0dip" android:paddingRight="16.0dip" android:paddingBottom="6.0dip" android:clickable="true" android:clipChildren="false" android:clipToPadding="false" android:layout_width="fill_parent" android:layout_height="wrap_content"
  xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto">
    <FrameLayout android:clipChildren="false" android:clipToPadding="false" android:layout_width="0.0dip" android:layout_height="wrap_content" android:layout_weight="1.0">
        <LinearLayout android:orientation="vertical" android:id="@id/compose_bubble" android:background="?conversation_input_background" android:clipChildren="false" android:clipToPadding="false" android:layout_width="fill_parent" android:layout_height="wrap_content">
            <org.thoughtcrime.securesms.components.QuoteView android:id="@id/quote_view" android:visibility="gone" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_marginLeft="6.0dip" android:layout_marginTop="6.0dip" android:layout_marginRight="6.0dip" app:message_type="preview" app:quote_colorPrimary="?conversation_item_sent_text_primary_color" app:quote_colorSecondary="?conversation_item_sent_text_primary_color" />
            <FrameLayout android:clipChildren="false" android:clipToPadding="false" android:layout_width="fill_parent" android:layout_height="wrap_content">
                <LinearLayout android:paddingLeft="10.0dip" android:clipChildren="false" android:clipToPadding="false" android:layout_width="fill_parent" android:layout_height="wrap_content" android:paddingStart="10.0dip">
                    <org.thoughtcrime.securesms.components.emoji.EmojiToggle android:layout_gravity="bottom" android:id="@id/emoji_toggle" android:background="?selectableItemBackgroundBorderless" android:paddingLeft="4.0dip" android:paddingRight="6.0dip" android:layout_width="wrap_content" android:layout_height="@dimen/conversation_compose_height" android:contentDescription="@string/conversation_activity__emoji_toggle_description" android:paddingStart="4.0dip" android:paddingEnd="6.0dip" />
                    <Space android:layout_width="0.0dip" android:layout_height="@dimen/conversation_compose_height" />
                    <org.thoughtcrime.securesms.components.ComposeText android:layout_gravity="center_vertical" android:id="@id/embedded_text_editor" android:nextFocusRight="@id/send_button" android:layout_width="0.0dip" android:layout_height="wrap_content" android:layout_weight="1.0" android:nextFocusForward="@id/send_button" style="@style/ComposeEditText">
                        <requestFocus />
                    </org.thoughtcrime.securesms.components.ComposeText>
                    <FrameLayout android:clipChildren="false" android:clipToPadding="false" android:layout_width="wrap_content" android:layout_height="fill_parent">
                        <org.thoughtcrime.securesms.components.HidingLinearLayout android:layout_gravity="end" android:id="@id/quick_attachment_toggle" android:clipChildren="false" android:clipToPadding="false" android:layout_width="wrap_content" android:layout_height="fill_parent">
                            <ImageButton android:layout_gravity="center_vertical" android:id="@id/quick_camera_toggle" android:background="?selectableItemBackgroundBorderless" android:paddingLeft="6.0dip" android:paddingRight="6.0dip" android:layout_width="wrap_content" android:layout_height="fill_parent" android:src="?quick_camera_icon" android:contentDescription="@string/conversation_activity__quick_attachment_drawer_toggle_camera_description" />
                            <org.thoughtcrime.securesms.components.MicrophoneRecorderView android:layout_gravity="center_vertical" android:id="@id/recorder_view" android:clipChildren="false" android:clipToPadding="false" android:layout_width="wrap_content" android:layout_height="fill_parent">
                                <ImageButton android:layout_gravity="center_vertical" android:id="@id/quick_audio_toggle" android:background="@null" android:padding="6.0dip" android:layout_width="wrap_content" android:layout_height="fill_parent" android:layout_marginRight="2.0dip" android:src="?quick_mic_icon" android:contentDescription="@string/conversation_activity__quick_attachment_drawer_record_and_send_audio_description" android:layout_marginEnd="2.0dip" />
                                <ImageView android:id="@id/quick_audio_fab" android:background="@drawable/circle_tintable" android:visibility="gone" android:layout_width="74.0dip" android:layout_height="74.0dip" android:src="@drawable/ic_mic_white_48dp" android:scaleType="center" android:backgroundTint="@color/core_red" />
                            </org.thoughtcrime.securesms.components.MicrophoneRecorderView>
                        </org.thoughtcrime.securesms.components.HidingLinearLayout>
                        <org.thoughtcrime.securesms.components.HidingLinearLayout android:layout_gravity="end" android:id="@id/inline_attachment_container" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="fill_parent">
                            <ImageButton android:layout_gravity="bottom" android:id="@id/inline_attachment_button" android:background="?selectableItemBackgroundBorderless" android:padding="8.0dip" android:layout_width="wrap_content" android:layout_height="@dimen/conversation_compose_height" android:src="@drawable/ic_add_white_24dp" android:tint="?conversation_input_inline_attach_icon_tint" />
                        </org.thoughtcrime.securesms.components.HidingLinearLayout>
                    </FrameLayout>
                </LinearLayout>
                <LinearLayout android:gravity="center_vertical" android:layout_gravity="center_vertical" android:orientation="horizontal" android:id="@id/recording_container" android:layout_width="fill_parent" android:layout_height="wrap_content">
                    <TextView android:textColor="@color/core_grey_60" android:ellipsize="none" android:id="@id/record_time" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginLeft="20.0dip" android:text="00:00" android:singleLine="true" android:layout_marginStart="20.0dip" style="@style/Signal.Text.Body" />
                    <FrameLayout android:clipChildren="true" android:layout_width="fill_parent" android:layout_height="wrap_content">
                        <TextView android:textColor="@color/core_grey_60" android:ellipsize="none" android:gravity="start|center" android:id="@id/slide_to_cancel" android:paddingRight="50.0dip" android:visibility="gone" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="@string/conversation_input_panel__slide_to_cancel" android:drawableLeft="@drawable/ic_keyboard_arrow_left_grey600_24dp" android:textAllCaps="true" android:drawableStart="@drawable/ic_keyboard_arrow_left_grey600_24dp" android:paddingEnd="50.0dip" style="@style/Signal.Text.Caption" />
                    </FrameLayout>
                </LinearLayout>
            </FrameLayout>
        </LinearLayout>
    </FrameLayout>
    <org.thoughtcrime.securesms.components.AnimatingToggle android:layout_gravity="bottom" android:id="@id/button_toggle" android:background="@drawable/circle_tintable" android:layout_width="@dimen/conversation_compose_height" android:layout_height="@dimen/conversation_compose_height" android:layout_marginLeft="12.0dip" android:layout_marginStart="12.0dip">
        <ImageButton android:layout_gravity="center" android:id="@id/attach_button" android:background="@drawable/circle_touch_highlight_background" android:nextFocusLeft="@id/embedded_text_editor" android:layout_width="fill_parent" android:layout_height="fill_parent" android:src="@drawable/ic_add_white_24dp" android:contentDescription="@string/ConversationActivity_add_attachment" />
        <org.thoughtcrime.securesms.components.SendButton android:id="@id/send_button" android:background="@drawable/circle_touch_highlight_background" android:paddingLeft="11.0dip" android:paddingTop="6.0dip" android:paddingRight="6.0dip" android:paddingBottom="6.0dip" android:nextFocusLeft="@id/embedded_text_editor" android:layout_width="fill_parent" android:layout_height="fill_parent" android:src="?conversation_transport_sms_indicator" android:scaleType="fitCenter" android:contentDescription="@string/conversation_activity__send" />
    </org.thoughtcrime.securesms.components.AnimatingToggle>
</org.thoughtcrime.securesms.components.InputPanel>